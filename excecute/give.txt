This command gives anyone who has an dirtblock in his inventorya diamond.
/execute as @e[nbt={Inventory:[{id:"minecraft:dirt"}]}] run give @s minecraft:diamond
This command gives anyone who has an dirtblock in his hand a diamond.
/execute as @e[nbt={SelectedItem:{id:"minecraft:dirt"}}] run give @s minecraft:diamond
